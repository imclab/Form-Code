<html>
<head>
	<title>Parameterize: Wave</title>
	<meta name="author" content="David Wicks"/>
	<link rel="stylesheet" href="../styles/f+c.css"/>
	<!-- Date: 2011-02-20 -->
	<script>
	var angleOffsetA = radians(1.5);
	var angleOffsetB = radians(50);
	
	function draw(){
		var canvas = document.getElementById("repeat");
		if( canvas.getContext ){
			var ctx = canvas.getContext('2d');
			var w = canvas.width;
			var h = canvas.height;
			ctx.clearRect( 0, 0, w, h );
			ctx.strokeStyle = "#F597B0";
			ctx.fillStyle = "#F597B0";
			
			var brickWidth = 40;
			var brickHeight = 15;
			var cols = 16;
			var rows = 19;
			var columnOffset = 60;
			var rowOffset = 30;
			var rotationIncrement = 0.15;
			
			ctx.save();
			ctx.translate(30,30);
			for(var i=0; i<cols; i++){
				ctx.save();
				ctx.translate(i*columnOffset, 0);
				var r = -Math.PI/4 + Math.random()*Math.PI/2;
				var dir = 1;
				for(var j=0; j<rows; j++){
					ctx.save();
					ctx.translate(0, rowOffset*j);
					ctx.rotate(r);
					ctx.strokeRect(-brickWidth/2, -brickHeight/2, brickWidth, brickHeight);
					ctx.restore();
					r += dir * rotationIncrement;
					if(r > Math.PI/4 || r < -Math.PI/4) dir *= -1;
				}
				ctx.restore();
			}
			ctx.restore();
			
		} else {
			alert("Sorry, your browser doesn't support canvas.");
		}
	}
	function radians(angle){ return angle*Math.PI/180.0; }
	</script>
</head>
<body onload="draw();">
	<h1>Form+Code: Wave</h1>
	<p>For more information, visit the <a href="http://formandcode.com/code-examples/repeat-recursive-tree">Form+Code website</a>.</p>
	<p>Click to generate a new wave.</p>
	<canvas id="repeat" width="960" height="600" onclick="draw();">
	</canvas>
</body>
</html>